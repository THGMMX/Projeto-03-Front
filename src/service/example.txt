import { getAllPosts, login } from './api.js';

const [posts, setPosts] = useState([]);

useEffect(() => {
    getAllPosts();
    .then((post) => setPosts(post));
    .catch((error) => console.log(error));   
}, []);


// Com token

-> no api.js

export const getAllPosts = async (token) => {
  const response = await api.get('/posts', { headers: { Authorization: `Bearer ${token}` } });
  return response.data;
};

-> no App
useEffect(async () => {
    const tokenResponse = await login('xxx@xxx.com', '123456') 
    const postsResponse = await getAllPosts(tokenResponse.token)
    setPosts(postsReponse) 
}, []);